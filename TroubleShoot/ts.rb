require 'yaml'

steps = {"eachdo" => "\nSR#-\nORDER#-\nCS will return k-cup holder...DLEDFORD\n", "No power" => "You must ask the customer the following questions:

Is the brewer plugged in? If it is a GFI outlet, has it tripped? 

Has the power button been pushed? For a B70, the power switch is on the back/bottom of the brewer.

Has the customer tried other appliances on the outlet that the brewer is plugged in to? Do they work? If not, it could be the outlet.

If the brewer continues to have NO POWER, if within warranty, this brewer needs to be replaced.

CS has tried other outlets and other appliances in the original outlet, but brewer will not power on, proceeding to replace...DLEDFORD
(No power)", "No Flow" => "Have the customer unplug the brewer and clean the entrance and exit needles

Have the customer attempt 3 cleansing brews at 6oz or 8oz cup size. They should have a measuring cup to note the exact outflow. You should document the exact measurements in the SR and also notate if the water has debris or is discolored.

If the water brews are successful, have the customer brew using a K-Cup. They should have a measuring cup to note the exact outflow.

If the brewer will not brew with a specific type of K-Cup, the batch of K-Cups may be defective, not the brewer. 

If using hot cocoa, explain importance of running cleansing brews after each use.  Also advise to clean K-Cup holder frequently (it is top-rack dishwasher safe) as hot cocoa powder can get stuck in and clog the exit or entrance needle. 

If water brews continue to be unsuccessful, the brewer should be replaced. 

Let the customer know that Keurig recommends using either filtered or bottled water.  De-scaling every 3-6 months will maintain the brewer and ensure optimum performance.
\nCS cleaned both needles and brewed 3 cups of water
1...
2...
3...
With K cup
1...
Brewer now works fine, CS will call back if neccessary...DLEDFORD

CS cleaned both needles, but brewer still has no output, proceeding to replace...DLEDFORD

CS has already done troubleshooting with a previous specialist, but brewer still does not work, proceeding to replace...DLEDFORD
(No flow)", "Short cupping" => "Reseat the CWT

Have the customer unplug the brewer and clean the entrance and exit needles

Have the customer attempt 3 cleansing brews at 6oz or 8oz cup size. They should have a measuring cup to note the exact outflow. You should document the exact measurements in the SR and also notate if the water has debris or is discolored.

May be K-Cup or K-Cup Holder issue? If short cupping only happens with one type of K-Cup- send new K-Cups. If Brewer gives full amount when performing cleansing brews, but short cups with a K-Cup then send a new K-Cup holder. 

If using hot cocoa, explain importance of running cleansing brews after each use. Also advise to clean K-Cup holder frequently (it is top-rack dishwasher safe) as hot cocoa powder can get stuck in and clog the exit or entrance needle. 

If brew volume fails after troubleshooting, customer may need to de-scale or Brewer should be replaced.

Let the customer know that Keurig recommends using either filtered or bottled water. De-scaling every 3-6 months will maintain the brewer and ensure optimum performance.

CS cleaned both needles and brewed 3 cups of water
1...
2...
3...
With k cup
1...
Brewer now works fine, CS will call back if neccessary...DLEDFORD

Brewer is still shortcupping, proceeding to replace...DLEDFORD

CS has already done troubleshooting with a previous specialist, but brewer still does not work, proceeding to replace...DLEDFORD
(Short cupping)", "Overvolume" => "Have the customer unplug the brewer and clean the entrance and exit needles

Have the customer attempt 3 cleansing brews at 6oz or 8oz cup size. They should have a measuring cup to note the exact outflow. You should document the exact measurements in the SR and also notate if the water has debris or is discolored.

Try brewing with a K-Cup to see if the issue is fixed

If troubleshooting is unsuccessful, follow replacement process.

Let the customer know that Keurig recommends using either filtered or bottled water. De-scaling every 3-6 months will maintain the brewer and ensure optimum performance.

CS cleaned both needles and brewed 3 cups of water
1...
2...
3...
With K cup
1...

Brewer now works fine, CS will call back if neccessary...DLEDFORD

Brewer is still giving overvolume, proceeding to replace...DLEDFORD

CS has already done troubleshooting with a previous specialist, but brewer still does not work, proceeding to replace...DLEDFORD
(OverVOLUME)", "Unpleasant tast" => "We recommend adding 2 tablespoons of vinegar to a full reservoir of water followed by flushing through two to three reservoirs of fresh water afterward (you do not have to stay on the phone with them)

Advise the customer that if water brews have not helped, they should de-scale the Brewer

If the odor is coming from a specific area (CWT, K-Cup holder) then you may need to send a replacement part.

If all of the above is unsuccessful or, if the customer is complaining of a ?burnt? smell or odor, please replace the Brewer.

Advised cs to add 2 tablespoons of water to a full CWT of water.. and run cleansing brews, and flush with plain water next. Cs will call back if Necessary...DLEDFORD

Cs has already taken the steps and brewer still has an unpleasant taste/oder...DLEDFORD

CS has already done troubleshooting with a previous specialist, but brewer still does not work, proceeding to replace...DLEDFORD
(Unpleasant taste/odor)", "Returning to cwt" => "Have the customer unplug the brewer and clean the entrance and exit needles

Have the customer attempt 3 cleansing brews at 6oz or 8oz cup size. They should have a measuring cup to note the exact outflow.

If the water is still going back into the CWT while brewing, the brewer may need to be de-scaled. 

If it?s not appropriate to de-scale and water is still going into the CWT after cleaning the needles, follow the brewer replacement process.

Let the customer know that Keurig recommends using either filtered or bottled water.  De-scaling every 3-6 months will maintain the brewer and ensure optimum performance.

CS cleaned both needles and brewed 3 cups of water
1...
2...
3...
With k cup
1...

Advised cs to descale the brewer, cs will call back if necessary.

Cs has previously descaled, water still returning to CWT, proceeding to replace..DLEDFORD

CS has already done troubleshooting with a previous specialist, but brewer still does not work, proceeding to replace...DLEDFORD
(Water returns to the CWT)", "Water in cwt not decreasing" => "Have the customer remove the CWT and reseat firmly making sure that the flat side of the CWT is flush to the back of the brewer

Have the customer unplug the brewer and clean the entrance and exit needles

Have the customer attempt 3 cleansing brews at 6oz or 8oz cup size. They should have a measuring cup to note the exact outflow. You should document the exact measurements in the SR and also notate if the water has debris or is discolored.

If not successful, please replace the Brewer.

CS cleaned both needles and brewed 3 cups of water
1...
2...
3...

Brewer now works fine, CS will call back if neccessary...DLEDFORD

CWT water still not descreasing, proceeding to replace...DLEDFORD

CS has already done troubleshooting with a previous specialist, but brewer still does not work, proceeding to replace...DLEDFORD
(CWT water not decreasing)", "Descale remains on" => "When using my K-Cup Accessory

Have the customer run three 6oz or 8oz water brews.

If the de-scale indicator remains on, please replace the brewer.

If the de-scale indicator turns off, you?ll know that the problem has been with the My K-Cup Holder.  

Go over the grind consistency of the coffee.

Verify the customer is not over-filling the mesh filter basket.

Have the customer check the mesh filter basket for discoloration.  Again, this is an indicator that the mesh?s small holes are beginning to clog and should be cleaned or replaced.

When using K-Cups

Have the customer unplug the brewer and clean the entrance and exit needles

Have the customer attempt 3 cleansing brews at 6oz or 8oz cup size. They should have a measuring cup to note the exact outflow.

Have customer de-scale the brewer if appropriate following the proper de-scaling process.  If the de-scale indicator still remains illuminated after de-scaling, this process may have to be done again.  If it's still not fixed, follow the brewer replacement process.

CS cleaned both needles and brewed 3 cups of water
1...
2...
3...
Brewer now works fine, CS will call back if neccessary...DLEDFORD

Descale light stayed on after the trouble shooting, Proceeding to replace...DLEDFORD

CS has already done troubleshooting with a previous specialist, but brewer still does not work, proceeding to replace...DLEDFORD
(Descale light remains on)", "Turns off during brew" => "Please have customer remove and reseat the CWT firmly and make sure alignment is correct

Have the customer unplug the brewer and clean the entrance and exit needles

Have the customer attempt 3 cleansing brews at 6oz or 8oz cup size. If the brewer turns off after any of the test brews, the brewer should be replaced.

CS cleaned both needles and brewed 3 cups of water
1...
2...
3...
Brewer now works fine, CS will call back if neccessary...DLEDFORD

Brewer is turned off during test brews, proceeding to replace..DLEDFORD

CS has already done troubleshooting with a previous specialist, but brewer still does not work, proceeding to replace...DLEDFORD
(Turning off during/after brew)", "Leaking" => "Leaking from the bottom of the Brewer

Has the brewer been exposed to a cold environment, where the water has had the potential to freeze?  If it has been exposed to freezing temperatures and is now leaking, follow the replacement process and advise the customer to avoid freezing temps in the future.

If the leak is coming from an internal part of the brewer such as the bottom grates or cord area, do not troubleshoot- follow the replacement process.
____________________________________________________________________

Leaking when using the My K-Cup
 
Verify the color of the My K-Cup Accessory the customer is using. If brown, please replace 

Verify that the entrance needle gasket is in place around the entrance needle. Replace the gasket if it?s missing or damaged

Make sure the customer is not using a fine-ground coffee

Verify they are not over-filling the mesh filter basket.

Verify that the inner top lip of the My K-Cup is clean and free of grounds.  If there are grounds on this lip when the cover is screwed on, it can cause leaking

Is the mesh, filter basket clean?  Can the customer see discoloration in the mesh?  This is usually a sign that holes in the mesh are beginning to clog and should be cleaned or replaced by the customer.

If all the above has been done and unsuccessful, please replace the My K-Cup

If the replacement My K-Cup is still leaking, follow brewer replacement process.
____________________________________________________________________

Leaking from the CWT 

Remove the reservoir to see if there is water in the well underneath.  If so, the reservoir may be damaged or not sealing or working properly.  Confirm the serial number and send a replacement CWT.

If the CWT has already been replaced and the Brewer is still leaking, please replace the Brewer.

Please send cs new gasket
Please send cs new CWT

Brewer is leaking from base, proceeding to replace...DLEDFORD

CS has already done troubleshooting with a previous specialist, but brewer still does not work, proceeding to replace...DLEDFORD

(Leaking from base)
(Leaking from CWT)
(Leaking from entrance needle)", "Low temp" => "Verify brewing temperature is not set to below 192? 

Explain pre-warming techniques such as running a cleansing brew of water into the mug they will be using for their coffee/tea to preheat the brewer and mug.

Suggest trying alternative to ceramic mugs, such as paper or foam

Inquire if the customer is using creamer or milk.  Explain there is less heat loss having your creamer or milk in the mug before brewing.  Adding creamer or milk after brewing will result in a larger loss of temperature.

If none of the above suggestions help explain to the customer we want them to be happy with the brewer so we are happy to replace it under warranty.  However, because the temperature expectations of the customer are a subjective matter, we cannot guarantee any improvement with the replacement brewer.  Follow the brewer replacement process.

Cs has alread tried everything for the matter, proceeding to replace...DLEDFORD

CS has already done troubleshooting with a previous specialist, but brewer still does not work, proceeding to replace...DLEDFORD
(Low temp)", "Grounds in cup" => "GROUNDS IN CUP

There can be several causes for getting grounds in the coffee cup.  Some may be caused by the K-Cup (typical) and some by the Brewer 
_________________________________________________
Grounds may have gathered in the exit needle from a bad K-Cup.

Have the customer remove and clean the exit needle in accordance with the K-Cup Holder Assembly cleaning instructions.

Have the customer clean the entrance needle by carefully inserting and moving around the same tool they used to clean the entrance needle.

Instruct the customer to perform a small-cup water (cleansing) brew and look for any grounds coming out.

Repeat cleansing brews to clear out any residual grounds.

This clog may have been caused by a bad batch of K-Cups.     

Ask the customer which selections they most often use.  Document the variety, BUBD and Lot # is the K-Cups they are using.  

Send a couple 5 packs of the variety (ies) used as a replacement and to test a new batch.

It is also a good idea to recommend de-scaling.  

If the grounds are coming out of the top of the K-Cup where the seam is for the K-Cup chamber, this may be caused by either a missing or faulty gasket.  Ask the customer if they see this gasket or if it appears damaged.  If the gasket needs replacement, please let the customer know that we will send it and then put the SR into Open/Parts.

CS cleaned both needles and brewed 3 cups of water
1...
2...
3...

Grounds in cup most likely caused by bad k cups, sent coupons.
Brewer now works fine, CS will call back if neccessary...DLEDFORD

Brewer puts grounds in cup after all troubleshooting, proceeding to replace...DLEDFORD

CS has already done troubleshooting with a previous specialist, but brewer still does not work, proceeding to replace...DLEDFORD
(Grounds in cup)", "Add water" => "Lift the CWT off of the reservoir and empty it.  Shake the empty reservoir vigorously so that the customer can see and hear the black disc on the side moving in its enclosure.

Put the CWT back on the brewer and refill with water.  

If the brewer is still asking for water, we will replace the CWT.  Put all pertinent information in an SR and put it into the AH queue

If the customer is calling back after already trying the above troubleshooting and receiving a new CWT, the brewer will need to be replaced.  Please follow brewer replacement guidelines.

Please send replacement CWT

Had cs lift CWT and emptied, shakin to see and hear the disk moving in the enclosure. Reseated CWT with it being full. Still displays Add Water.
**
CS has already done troubleshooting with a previous specialist, but brewer still does not work, proceeding to replace...DLEDFORD
(Add water continually displays)", "Gfi" => "The GFI (ground fault interrupter) is the red, Reset button in the center of an electrical outlet.  The tripping is usually due to scale buildup inside of the brewer.  Go over water usage and de-scaling practices for the brewer. 

Follow the brewer replacement process if necessary.

Advised cs of Keurigs water recommendations and advised cs of descaling practices, proceeding to replace..DLEDFORD
(GFI Tripping)", "Prime" => "Please have customer remove and reseat the CWT firmly and make sure alignment is correct. 

Fill Reservoir all the way up

Have the customer attempt 3 cleansing brews at 6oz or 8oz cup size. They should have a measuring cup to note the exact outflow. You should document the exact measurements in the SR and also notate if the water has debris or is discolored.

If brewer still indicates to PRIME after clear brews, replace the brewer.

Had cs reseat CWT firmly and fill all the way up, then ran 3 brews..
1..
2..
3..
Brewer now works fine, CS will call back if neccessary...DLEDFORD

Had cs reseat CWT firmly and fill all the way up, then ran 3 brews..Brewer returned to prime, proceeding to replace...DLEDFORD

Cs has already done the trouble shooting for this, proceeding to replace...DLEDFORD
(Prime)"
}

output = File.new('steps.yml', 'w')
output.puts YAML.dump(steps)
output.close
